===============================
Package *'track'* documentation
===============================

.. automodule:: track

###############
Loading a track
###############

.. autofunction:: load

####################
Creating a new track
####################

.. autofunction:: new

#################
Converting tracks
#################

.. autofunction:: convert

######################
Using the Track object
######################

.. autoclass:: Track

Track attributes
""""""""""""""""

.. autoattribute:: Track.fields
.. autoattribute:: Track.chromosomes
.. autoattribute:: Track.info
.. autoattribute:: Track.name
.. autoattribute:: Track.datatype
.. autoattribute:: Track.assembly
.. autoattribute:: Track.chrmeta
.. autoattribute:: Track.modified

Track methods
"""""""""""""

.. automethod:: Track.read
.. automethod:: Track.write
.. automethod:: Track.save
.. automethod:: Track.rollback
.. automethod:: Track.vacuum
.. automethod:: Track.close
.. automethod:: Track.cursor
.. automethod:: Track.export
.. automethod:: Track.remove
.. automethod:: Track.rename
.. automethod:: Track.search
.. automethod:: Track.count
.. automethod:: Track.load_chr_file
.. automethod:: Track.export_chr_file
.. automethod:: Track.get_score_vector
.. automethod:: Track.ucsc_to_ensembl
.. automethod:: Track.ensembl_to_ucsc
.. automethod:: Track.roman_to_integer
.. automethod:: Track.integer_to_roman

###################
Loading into memory
###################

.. automodule:: track.memory
.. autofunction:: track.memory.read
.. autofunction:: track.memory.write

.. _convention:

####################
Numbering convention
####################
It is important to note that the general numbering convention of features on a chromosome varies depending on the source of the data. For instance, UCSC and Ensembl differ in this point such that an interval labeled `(start=4,end=8)` will span four base pairs according to UCSC but will span five base pairs according to Ensembl.

A numbering convention for describing continuous intervals of base pairs on a chromosome can be defined by three characteristics:

1. **Do we start at zero or one ?** In `track`, the smallest authorized number is 0. A feature labeled `(start=0,end=4)` is legal.

2. **Are the start and end included ?** In `track`, the start is included and the end is included. A feature labeled `(start=X,end=Y)` spans Y-X nucleotides.

3. **Are we counting on the nucleotides or between the nucleotides ?** In `track`, we number between the nucleotides. Two features labeled `(start=0,end=4)` and `(start=4,end=8)` have no overlap.

In the following visual examples, we use a feature labeled `(start=4,end=8)`. Both images are considered to be zero-based, start inclusive and end inclusive. However, the image on the left numbers the phosphate groups while the image on the right numbers the sugar groups. This produces different results. This packages sticks to standard depicted on the image labeled "Correct".

.. image:: /images/convention_wrong.png
.. image:: /images/convention_correct.png

*TL;DR*: This package uses the UCSC standard for all its representations.

##############
Reporting bugs
##############
Our `issue tracking system <https://github.com/xapple/track/issues>`_  is found in the github repository. You are welcome to open a new ticket in it if you think you have found a bug. You will however need to create a github account if you don't already have one to open a new issue, sorry.

#########
Licensing
#########
The code is free and open source, licensed under the GNU General Public License version 3. You can download, copy or fork the source code on github:

    https://github.com/xapple/track
